<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cosmic Weather Tales - Nasa Space Apps</title>
<style>
/* ======= Reset e Base ===== */
/*comentando*/
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    background: black;
    overflow-x: hidden;
}

/* ===== Estrutura ===== */
#inicio {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    padding: 1rem;
}

#video-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -1;
    filter: brightness(1.2) saturate(1.3);
}

.conteudo-principal {
    position: relative;
    text-align: center;
    z-index: 10;
    padding: 2rem;
}

/* ===== Bot√µes ===== */
button {
    cursor: pointer;
    display: inline-block;
    margin: 2rem auto;
    background-color: #8A2BE2;
    color: white;
    border-radius: 1rem;
    border: none;
    font-weight: bold;
    font-size: clamp(1rem, 2vw, 2rem);
    padding: clamp(0.8em, 1vw, 1.2em) clamp(1.5em, 2vw, 2em);
    text-transform: uppercase;
    transition: transform 0.3s ease, background-color 0.3s ease;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

button:hover {
    transform: translateY(-2px);
    background-color: #7a25c9;
}

/* ===== Anima√ß√£o ===== */
.brilho-animado {
    width: 500px;
    height: 400px;
    background-image: url('src/img/Frame4.png');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    animation: animarBrilho 3s infinite alternate;
}


@keyframes animarBrilho {
    0% { filter: brightness(100%); }
    50% { filter: brightness(150%); }
    100% { filter: brightness(100%); }
}

.blur-bg {
    filter: brightness(0.5) saturate(1.3) blur(5px) !important;
}

/* ===== Texto ===== */
h1 {
    color: #ff6f61;
    text-align: center;
    font-size: clamp(1.5rem, 4vw, 3.5rem);
    text-shadow: 3px 3px #ffe066;
    border-bottom: 5px dashed #4caf50;
    padding-bottom: 10px;
}

p {
    font-family: 'Lucida Sans', sans-serif;
    font-size: clamp(0.9rem, 2vw, 1rem);
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.5;
}

/* ===== Tela Welcome ===== */
#welcome-screen {
    display: none;
    text-align: center;
    color: white;
    padding: 2rem;
}

/* ===== Responsividade ===== */
@media screen and (max-width: 768px) {
    .brilho-animado {
        width: 80%;
    }

    h1 {
        font-size: clamp(1.2rem, 6vw, 2.5rem);
    }

    button {
        font-size: clamp(1rem, 4vw, 1.5rem);
    }

    p {
        padding: 0 1rem;
    }
}
</style>
</head>

<body>
<video autoplay muted loop id="video-bg">
    <source src="src/videos/V√≠deo_com_Boas_Vindas_C√≥smicas.mp4" type="video/mp4">
    Seu navegador n√£o suporta v√≠deos.
</video>

<div id="inicio">
    <div class="brilho-animado"></div>
    <button class="welcome-screen">start</button>
</div>

<div id="welcome-screen">
    <h1>‚òÄÔ∏è WHAT‚ÄôS THAT?! üí´</h1>
    <p>
        The Sun ‚Äúplaying around‚Äù and Space Weather! <br><br>
        What you just saw is a flash of energy from the Sun and it‚Äôs one of the ways our star creates Space Weather! <br><br>
        The Sun is like a giant playful ball of fire, always blowing invisible winds and sending out big bubbles of energy in all directions. When these bubbles get close to Earth, our planet uses a magical invisible shield to protect itself. The result is beautiful: a light show in the sky called the Aurora! <br><br>
        Sometimes, this energy can surprise our satellites, cause brief power outages, or even make flights change their paths! But don‚Äôt worry these situations are rare and can be fixed! Earth is safe, and scientists are always watching closely! <br><br>
        Ready to pick your Cosmic Narrator and explore the wonders of Space Weather? <br>
    </p>
    <a href="lobby.html">
        <button id="start-button">Start</button>
    </a>
</div>

<script>
let start_button = document.getElementsByClassName('welcome-screen')[0];
let welcome_screen = document.getElementById('welcome-screen');
let inicio = document.getElementById('inicio');
const video_bg = document.getElementById('video-bg');
const VIDEO_2_SRC = "src/videos/Gera√ß√£o_de_V√≠deo_de_Tempestade_Solar.mp4";

function tentarAutoplayComSomOtimizado(videoElement, maxRetries = 10) {
    let retries = 0;
    function tentar() {
        videoElement.muted = false;
        videoElement.play().then(() => {
            console.log("V√≠deo iniciado com som.");
        }).catch(() => {
            if (retries < maxRetries) {
                retries++;
                const eventoClique = new MouseEvent('click', { view: window, bubbles: true, cancelable: true });
                window.dispatchEvent(eventoClique);
                requestAnimationFrame(tentar);
            } else {
                console.warn("N√£o foi poss√≠vel iniciar com som, rodando sem som.");
                videoElement.muted = true;
                videoElement.play();
            }
        });
    }
    tentar();
}

window.addEventListener("load", () => {
    tentarAutoplayComSomOtimizado(video_bg, 10);
});

start_button.addEventListener('click', function() {
    video_bg.querySelector('source').setAttribute('src', VIDEO_2_SRC);
    inicio.style.display = 'none';
    video_bg.pause();
    video_bg.load();
    video_bg.muted = false;
    video_bg.loop = false;
    video_bg.play().catch(e => { console.error(e); });
    video_bg.onended = function(){
        video_bg.classList.add('blur-bg');
        video_bg.pause();
        welcome_screen.style.display = 'block';
    };
});
</script>
</body>
</html>
